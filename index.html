<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les 300 D√©fis de No√´l</title>
    <style>
        body, html {
            margin: 0; padding: 0; height: 100%; width: 100%;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            background-image: url('https://i.postimg.cc/rFB7TZN4/pngtree-christmas-background-vector-illustration-space-for-writing-text-picture-image-16035994-(1).png');
            background-size: cover; background-position: center;
        }

        .container { position: relative; height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center; }
        .parchemin-img { height: 102vh; width: auto; max-width: 95vw; object-fit: contain; filter: drop-shadow(0px 12px 25px rgba(0,0,0,0.5)); }

        .nav-arrow {
            position: absolute; top: 50%; transform: translateY(-50%);
            font-size: 2.5rem; color: #b30000; cursor: pointer;
            background: rgba(255, 255, 255, 0.5); border-radius: 50%;
            width: 55px; height: 55px; display: flex; justify-content: center; align-items: center;
            z-index: 10; transition: all 0.4s ease; border: 2px solid #b30000; user-select: none;
        }
        .nav-arrow:hover { background: white; transform: translateY(-50%) scale(1.05); }
        .arrow-left { left: 5vw; } .arrow-right { right: 5vw; }

        .scroll-box {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 40%; height: 60%; overflow-y: scroll; padding: 20px;
            text-align: center; font-family: 'Georgia', serif;
            scrollbar-width: none; -ms-overflow-style: none; z-index: 5;
        }
        .scroll-box::-webkit-scrollbar { display: none; }

        h1 { font-size: 2.2rem; margin-bottom: 30px; text-shadow: 1px 1px 0px #fff; transition: color 0.6s ease; }

        /* STYLE DE BASE : DESSUS BLANC BEIGE POUR TOUS */
        .btn-question {
            display: block; width: 85%; margin: 12px auto; padding: 15px;
            background-color: #f4e4bc !important; /* Force le dessus blanc beige */
            color: #3d240b; border: 2px solid #8e5a31;
            border-radius: 8px; font-size: 1.1rem; font-weight: bold;
            cursor: pointer; transition: all 0.3s ease-out; position: relative;
        }
        
        /* ANIMATIONS DE SURVOL */
        .btn-question:hover { transform: translateY(-3px) scale(1.03); }
        
        /* TH√àMES DE BOUTONS (COULEUR DU BAS ET BORDURES SEULEMENT) */
        .btn-silver { 
            box-shadow: 3px 3px 0px #A9A9A9; 
            border-color: #A9A9A9;
        }
        .btn-silver:hover { background-color: #C0C0C0 !important; color: #333; border-color: #808080; }

        .btn-green { 
            box-shadow: 3px 3px 0px #2d5a27; 
            border-color: #2d5a27;
        }
        .btn-green:hover { background-color: #2d5a27 !important; color: white; border-color: #1e3d1a; }

        .btn-gold { 
            box-shadow: 3px 3px 0px #d4a017; 
            border-color: #d4a017;
        }
        .btn-gold:hover { background-color: #d4a017 !important; color: white; border-color: #a37a11; }

        .btn-red { 
            box-shadow: 3px 3px 0px #b30000; 
            border-color: #b30000;
        }
        .btn-red:hover { background-color: #b30000 !important; color: white; border-color: #800000; }

        /* √âTAT COMPL√âT√â */
        .btn-question.completed { opacity: 0.6; background-color: #d2b48c !important; cursor: default; box-shadow: none !important; }
        .btn-question.completed::after { content: " ‚úÖ"; }

        .view-section { display: none; flex-direction: column; align-items: center; }
        .active-view { display: flex; }

        /* VUE QUESTION */
        #question-view {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            justify-content: center; align-items: center; z-index: 20;
        }
        .question-container {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 35%; text-align: center; font-family: 'Georgia', serif; color: #3d240b;
        }
        .answer-input { 
            padding: 12px; width: 80%; border-radius: 8px; border: 2px solid #8e5a31; 
            margin: 20px 0; font-size: 1.1rem; text-align: center; background: #fdf5e6;
        }

        .action-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 90%; margin: 0 auto; }
        .btn-action {
            width: 100%; padding: 15px 0; border: none; border-radius: 8px;
            cursor: pointer; font-weight: bold; font-family: 'Georgia';
            font-size: 1rem; transition: transform 0.2s;
        }
        .btn-action:hover { transform: scale(1.05); }

        .btn-check { background: #2d5a27; color: white; }
        .btn-back { background: #b30000; color: white; }
        .btn-show { background: #d4a017; color: white; display: none; }
        .btn-regen { background: #ffffff; color: #3d240b; box-shadow: 0px 2px 5px rgba(0,0,0,0.2); display: none; }

        #hint-text { display: block; height: 1.5rem; margin-top: 10px; font-weight: bold; color: #b30000; visibility: hidden; }

        /* TITRES DE NIVEAUX */
        .theme-vert h1 { color: #2d5a27; }
        .theme-or h1 { color: #d4a017; }
        .theme-rouge h1 { color: #b30000; }
        .theme-menu h1 { color: #696969; }
    </style>
</head>
<body class="theme-menu">

<div class="container" id="main-container">
    <div id="list-view">
        <div id="nav-arrows" style="display: none;">
            <div class="nav-arrow arrow-left" onclick="changeLevel(-1)">‚ùÆ</div>
            <div class="nav-arrow arrow-right" onclick="changeLevel(1)">‚ùØ</div>
        </div>

        <img src="https://i.postimg.cc/RhR1YFdd/pngtree-vintage-scroll-banner-illustration-png-image-16419425-removebg-preview.png" class="parchemin-img">
        
        <div class="scroll-box">
            
            <div id="view-main-menu" class="view-section active-view">
                <h1>MENU PRINCIPAL</h1>
                <button class="btn-question btn-silver" onclick="showSubMenu('questions')">üéÅ QUESTIONS</button>
                <button class="btn-question btn-silver" onclick="showSubMenu('avantages')">‚ú® AVANTAGES</button>
            </div>

            <div id="view-submenu-questions" class="view-section">
                <h1>CHOISIR UN NIVEAU</h1>
                <button class="btn-question btn-green" onclick="goToLevel(0)">üü¢ D√âFIS FACILES</button>
                <button class="btn-question btn-gold" onclick="goToLevel(1)">üü° D√âFIS MOYENS</button>
                <button class="btn-question btn-red" onclick="goToLevel(2)">üî¥ D√âFIS DIFFICILES</button>
                <button class="btn-question btn-silver" onclick="devUnlock()">üîì DEV UNLOCK</button>
                <button class="btn-question btn-silver" style="margin-top:20px;" onclick="backToMain()">RETOUR</button>
            </div>

            <div id="view-submenu-avantages" class="view-section">
                <h1>AVANTAGES</h1>
                <p>Section bient√¥t disponible...</p>
                <button class="btn-question btn-silver" style="margin-top:20px;" onclick="backToMain()">RETOUR</button>
            </div>

            <div id="view-questions-list" class="view-section">
                <h1 id="level-title">üìú LISTE</h1>
                <div id="questions-container-inner" style="width: 100%;"></div>
                <button class="btn-question btn-silver" onclick="backToMain()">üè† MENU PRINCIPAL</button>
            </div>

        </div>
    </div>

    <div id="question-view">
        <img src="https://i.postimg.cc/RhR1YFdd/pngtree-vintage-scroll-banner-illustration-png-image-16419425-removebg-preview.png" class="parchemin-img">
        <div class="question-container">
            <h2 id="current-q-text">...</h2>
            <div id="hint-text">REPONSE ICI</div>
            <input type="text" id="user-ans-input" class="answer-input" placeholder="Ta r√©ponse..." autocomplete="off">
            <div class="action-grid">
                <button id="btn-show-id" class="btn-action btn-show" onclick="revealHint()">Voir la r√©ponse</button>
                <button id="btn-regen-id" class="btn-action btn-regen" onclick="regenerateAi()">R√©g√©n√©rer</button>
                <button class="btn-action btn-check" onclick="checkAnswer()">Valider</button>
                <button class="btn-action btn-back" onclick="hideQuestion()">Retour</button>
            </div>
        </div>
    </div>
</div>

<script>
    
    // --- LES 300 QUESTIONS FIXES ---
   const allData = [
   // FACILES (0-99)
   ["Quelle est la capitale de la France ?", "Paris"], ["Combien de couleurs y a-t-il dans l'arc-en-ciel ?", "7"], ["Quel animal fait 'meuh' ?", "La vache"], ["Quelle est la couleur de l'√©meraude ?", "Vert"], ["Combien de doigts a l'homme sur une main ?", "5"], ["Quel est l'inverse de 'chaud' ?", "Froid"], ["Qui est le compagnon de Mickey Mouse ?", "Minnie"], ["Quel fruit donne le pommier ?", "La pomme"], ["Dans quel pays se trouve la Tour de Pise ?", "Italie"], ["Quel est le plus grand mammif√®re du monde ?", "La baleine bleue"], ["Combien y a-t-il de mois dans une ann√©e ?", "12"], ["Quel astre nous √©claire durant la journ√©e ?", "Le Soleil"], ["Comment appelle-t-on le petit du cheval ?", "Le poulain"], ["Quelle est la langue parl√©e au Br√©sil ?", "Le portugais"], ["De quelle couleur sont les Schtroumpfs ?", "Bleu"], ["Combien font 5 + 5 ?", "10"], ["Quel est le nom de notre galaxie ?", "La Voie lact√©e"], ["Quel super-h√©ros a √©t√© mordu par une araign√©e ?", "Spider-Man"], ["Quelle est la capitale de l'Angleterre ?", "Londres"], ["Quel est l'organe qui pompe le sang ?", "Le c≈ìur"], ["Comment appelle-t-on un polygone √† 3 c√¥t√©s ?", "Un triangle"], ["Quelle est la capitale de l'Italie ?", "Rome"], ["Quel m√©tal est attir√© par un aimant ?", "Le fer"], ["Quel est le nom du c√©l√®bre paquebot qui a coul√© en 1912 ?", "Le Titanic"], ["Dans quel sport utilise-t-on un panier ?", "Le basket-ball"], ["Quel est le cri du chien ?", "L'aboiement"], ["Quelle f√©e a perdu sa chaussure de verre ?", "Cendrillon"], ["Combien de minutes y a-t-il dans une heure ?", "60"], ["Quel est le pays du Soleil-Levant ?", "Le Japon"], ["Qui a peint la Joconde ?", "L√©onard de Vinci"], ["Quel gaz respirons-nous pour vivre ?", "L'oxyg√®ne"], ["Quelle est la capitale de l'Espagne ?", "Madrid"], ["Quel instrument joue Mozart ?", "Le piano"], ["Comment s'appelle le b√©b√© du chien ?", "Le chiot"], ["Quel oc√©an s√©pare l'Europe de l'Am√©rique ?", "L'oc√©an Atlantique"], ["De quelle couleur est le ciel par temps clair ?", "Bleu"], ["Quel animal pond des ≈ìufs ?", "La poule"], ["Combien y a-t-il de saisons ?", "4"], ["Quel est le nom du plus haut sommet du monde ?", "L'Everest"], ["Dans quel film trouve-t-on Simba ?", "Le Roi Lion"], ["Comment appelle-t-on l'eau sous forme solide ?", "La glace"], ["Quel est le jour qui suit le samedi ?", "Dimanche"], ["Quel bois utilise-t-on pour faire des frites ?", "La pomme de terre"], ["Quelle est la capitale des √âtats-Unis ?", "Washington D.C."], ["Comment appelle-t-on le docteur des animaux ?", "Un v√©t√©rinaire"], ["Quelle est la femelle du taureau ?", "La vache"], ["Dans quelle ville se trouve la Statue de la Libert√© ?", "New York"], ["Quel est le premier jour de la semaine ?", "Lundi"], ["Quel organe sert √† entendre ?", "L'oreille"], ["Combien y a-t-il de lettres dans l'alphabet fran√ßais ?", "26"], ["Quel est le continent o√π se trouve l'√âgypte ?", "L'Afrique"], ["Quelle est la couleur de la neige ?", "Blanc"], ["Comment appelle-t-on les habitants de la Chine ?", "Les Chinois"], ["Quel est l'animal le plus rapide au monde ?", "Le gu√©pard"], ["Quelle est la capitale de l'Allemagne ?", "Berlin"], ["Qui est le p√®re de Pinocchio ?", "Geppetto"], ["Combien de faces a un d√© classique ?", "6"], ["Quelle est la monnaie utilis√©e en France ?", "L'Euro"], ["Quel est le contraire de 'gagner' ?", "Perdre"], ["Quelle plan√®te est la plus proche du soleil ?", "Mercure"], ["O√π vivent les poissons ?", "Dans l'eau"], ["Qui est l'ennemi de Batman ?", "Le Joker"], ["Quel est le nom de la tour c√©l√®bre de Paris ?", "La Tour Eiffel"], ["Comment s'appelle le nez de l'√©l√©phant ?", "La trompe"], ["Quel fruit est utilis√© pour faire du vin ?", "Le raisin"], ["Quel est le sport de Kylian Mbapp√© ?", "Le football"], ["Quelle est la capitale du Canada ?", "Ottawa"], ["Combien de pattes a une araign√©e ?", "8"], ["Quelle est la plus grande for√™t du monde ?", "L'Amazonie"], ["Quel est le nom de la femelle du lion ?", "La lionne"], ["Quel mois vient apr√®s juillet ?", "Ao√ªt"], ["O√π se trouve la Grande Muraille ?", "En Chine"], ["Quelle mati√®re produit l'abeille ?", "Le miel"], ["Quelle est la forme d'un ballon de foot ?", "Sph√©rique"], ["Quel est le petit de la vache ?", "Le veau"], ["Comment appelle-t-on le logement des oiseaux ?", "Un nid"], ["Quel personnage porte un bonnet rouge et vit au p√¥le Nord ?", "Le P√®re No√´l"], ["Quel est le nom de la plan√®te o√π nous vivons ?", "La Terre"], ["Quelle langue parle-t-on au Mexique ?", "L'espagnol"], ["Quel outil utilise-t-on pour taper des clous ?", "Un marteau"], ["De quelle couleur est un flamant rose ?", "Rose"], ["Quel est le nom du b√©b√© chat ?", "Le chaton"], ["Quel fleuve traverse l'√âgypte ?", "Le Nil"], ["Quelle est la boisson produite par les vaches ?", "Le lait"], ["Qui a d√©couvert l'Am√©rique en 1492 ?", "Christophe Colomb"], ["Quel est le nom du triangle avec deux c√¥t√©s √©gaux ?", "Isoc√®le"], ["Quel v√™tement porte-t-on sur la t√™te ?", "Un chapeau"], ["Comment s'appelle l'√©toile la plus proche de la Terre ?", "Le Soleil"], ["Quel animal a un long cou pour manger des feuilles ?", "La girafe"], ["Quelle est la capitale de la Russie ?", "Moscou"], ["Quel est le r√©sultat de 10 x 10 ?", "100"], ["Qui a √©crit 'Le Petit Prince' ?", "Antoine de Saint-Exup√©ry"], ["Quel sens utilise-t-on avec le nez ?", "L'odorat"], ["Comment appelle-t-on un film de dessins ?", "Un dessin anim√©"], ["Quel est l'animal qui porte sa maison sur son dos ?", "L'escargot"], ["De quel pays vient le sushi ?", "Le Japon"], ["Quel est le nom du liquide dans nos veines ?", "Le sang"], ["Quel mois f√™te-t-on No√´l ?", "D√©cembre"], ["Quelle est la capitale de la Belgique ?", "Bruxelles"], ["Comment appelle-t-on quelqu'un qui ne mange pas de viande ?", "Un v√©g√©tarien"],


   // MOYENS (100-199)
   ["Quel pays a la forme d'une botte ?", "L'Italie"], ["Combien y a-t-il de plan√®tes dans le syst√®me solaire ?", "8"], ["Qui a √©crit les aventures de Tintin ?", "Herg√©"], ["Quelle est la capitale de l'Allemagne ?", "Berlin"], ["Quel organe permet de respirer ?", "Les poumons"], ["Dans quelle ville se trouve le Big Ben ?", "Londres"], ["Quel est le plus grand oc√©an du monde ?", "L'oc√©an Pacifique"], ["En quelle ann√©e a commenc√© la Premi√®re Guerre mondiale ?", "1914"], ["Quel fruit est utilis√© pour fabriquer le cidre ?", "La pomme"], ["Qui √©tait le dieu des √©clairs dans la mythologie grecque ?", "Zeus"], ["Quelle est la monnaie du Royaume-Uni ?", "La Livre Sterling"], ["Quel est le nom du c√©l√®bre paquebot qui a coul√© en 1912 ?", "Le Titanic"], ["Quelle est la capitale de l'Espagne ?", "Madrid"], ["Quel animal est le plus grand du monde ?", "La baleine bleue"], ["De quel pays vient la pizza ?", "Italie"], ["Combien de joueurs y a-t-il dans une √©quipe de football sur le terrain ?", "11"], ["Quel est le nom de la galaxie o√π nous vivons ?", "La Voie lact√©e"], ["Qui a peint la Joconde ?", "L√©onard de Vinci"], ["Quelle est la capitale du Portugal ?", "Lisbonne"], ["Quel est le symbole chimique de l'eau ?", "H2O"], ["Dans quel pays se trouvent les pyramides de Gizeh ?", "L'√âgypte"], ["Qui est l'auteur du roman 'Les Mis√©rables' ?", "Victor Hugo"], ["Quel gaz les plantes absorbent-elles ?", "Le dioxyde de carbone"], ["Quel est le plus long fleuve du monde ?", "L'Amazone"], ["Quelle est la capitale de la Belgique ?", "Bruxelles"], ["Quel super-h√©ros habite √† Gotham City ?", "Batman"], ["Quelle est la langue la plus parl√©e au Br√©sil ?", "Le portugais"], ["Qui a d√©couvert la loi de la gravit√© ?", "Isaac Newton"], ["Quel est le nom du premier homme sur la Lune ?", "Neil Armstrong"], ["Quelle est la capitale de la Gr√®ce ?", "Ath√®nes"], ["Quel est le m√©tal de la Tour Eiffel ?", "Le fer"], ["Comment appelle-t-on un triangle avec un angle droit ?", "Un triangle rectangle"], ["Quel pays est surnomm√© le 'Pays du Soleil-Levant' ?", "Le Japon"], ["Quel est le nom du sorcier √† lunettes ?", "Harry Potter"], ["Quelle est la capitale du Canada ?", "Ottawa"], ["Quel organe est responsable de la digestion ?", "L'estomac"], ["Qui a √©crit 'Le Petit Prince' ?", "Antoine de Saint-Exup√©ry"], ["Quel est le nom du plus grand d√©sert du monde ?", "Le Sahara"], ["Quelle est la capitale de la Russie ?", "Moscou"], ["Quel instrument poss√®de 88 touches ?", "Le piano"], ["De quelle couleur est le drapeau de la Chine ?", "Rouge et jaune"], ["Quel est le nom de la montagne la plus haute du monde ?", "L'Everest"], ["Qui √©tait le pr√©sident des USA pendant la 2nde Guerre mondiale ?", "Franklin D. Roosevelt"], ["Quelle est la capitale de la Suisse ?", "Berne"], ["Dans quel pays se trouve le Taj Mahal ?", "L'Inde"], ["Quelle est la monnaie utilis√©e au Japon ?", "Le Yen"], ["Quel explorateur a d√©couvert l'Am√©rique en 1492 ?", "Christophe Colomb"], ["Quelle est la capitale de la Turquie ?", "Ankara"], ["Quel est l'animal terrestre le plus rapide ?", "Le gu√©pard"], ["Qui a invent√© l'ampoule √©lectrique ?", "Thomas Edison"], ["Quel fleuve traverse Paris ?", "La Seine"], ["Quelle est la capitale des Pays-Bas ?", "Amsterdam"], ["Quel pays a remport√© la Coupe du Monde en 1998 et 2018 ?", "La France"], ["Comment appelle-t-on le petit du mouton ?", "L'agneau"], ["Quelle est la capitale du Mexique ?", "Mexico"], ["Qui √©tait le chef de l'Empire fran√ßais au d√©but du XIXe ?", "Napol√©on Bonaparte"], ["Quelle est la plus grande plan√®te du syst√®me solaire ?", "Jupiter"], ["Quelle est la capitale de l'Irlande ?", "Dublin"], ["Quel est le nom de l'√©toile la plus proche de la Terre ?", "Le Soleil"], ["Quel fruit est utilis√© pour faire du vin ?", "Le raisin"], ["Qui a peint les plafonds de la Chapelle Sixtine ?", "Michel-Ange"], ["Quelle est la capitale de la Pologne ?", "Varsovie"], ["Combien d'√âtats y a-t-il aux √âtats-Unis ?", "50"], ["Quel est le nom de la peur des espaces clos ?", "La claustrophobie"], ["Quelle est la capitale de la Su√®de ?", "Stockholm"], ["Quel oiseau est le symbole de la paix ?", "La colombe"], ["Quel est le nom de l'os de la cuisse ?", "Le f√©mur"], ["Quelle est la capitale de la Tha√Ølande ?", "Bangkok"], ["Qui a invent√© le vaccin contre la rage ?", "Louis Pasteur"], ["Quelle est la mer entre l'Europe et l'Afrique ?", "La mer M√©diterran√©e"], ["Quelle est la capitale du Maroc ?", "Rabat"], ["Quel m√©tal est utilis√© pour fabriquer les canettes ?", "L'aluminium"], ["Quel √©crivain a cr√©√© Sherlock Holmes ?", "Arthur Conan Doyle"], ["Quelle est la capitale de l'Argentine ?", "Buenos Aires"], ["Quel est le nom du continent au p√¥le Sud ?", "L'Antarctique"], ["Quelle est la capitale de l'Autriche ?", "Vienne"], ["Quel est le gaz que nous respirons le plus dans l'air ?", "L'azote"], ["Qui a chant√© 'Bohemian Rhapsody' ?", "Freddie Mercury"], ["Quelle est la capitale de la Hongrie ?", "Budapest"], ["Quel est le nom du monument c√©l√®bre de New York ?", "La Statue de la Libert√©"], ["Combien de jours y a-t-il dans une ann√©e bissextile ?", "366"], ["Quelle est la capitale de la Cor√©e du Sud ?", "S√©oul"], ["Quel animal pond les plus gros ≈ìufs ?", "L'autruche"], ["Qui a fond√© la compagnie Apple ?", "Steve Jobs"], ["Quelle est la capitale de l'√âgypte ?", "Le Caire"], ["Quel est le nom de la force qui nous retient au sol ?", "La gravit√©"], ["Quel est le pays le plus peupl√© au monde ?", "L'Inde"], ["Quelle est la capitale du Danemark ?", "Copenhague"], ["Quel est le nom du repas du midi ?", "Le d√©jeuner"], ["Qui a √©crit 'Hamlet' ?", "William Shakespeare"], ["Quelle est la capitale de la Norv√®ge ?", "Oslo"], ["Quel mur s√©parait l'Allemagne en deux ?", "Le mur de Berlin"], ["Quelle est la capitale du Vietnam ?", "Hano√Ø"], ["Quel animal vit le plus longtemps ?", "La tortue g√©ante"], ["Quelle est la capitale de l'Australie ?", "Canberra"], ["De quelle couleur sont les veines √† travers la peau ?", "Bleues"], ["Quelle est la capitale de la R√©publique Tch√®que ?", "Prague"], ["Quelle science √©tudie les √©toiles ?", "L'astronomie"], ["Quelle est la capitale du Chili ?", "Santiago"], ["Comment appelle-t-on le passage de solide √† liquide ?", "La fusion"],


   // DIFFICILES (200-299)
   ["Quel pays a remport√© la Coupe du Monde de football en 2022 ?", "L'Argentine"], ["Quelle est la capitale de la Turquie ?", "Ankara"], ["O√π se trouve le si√®ge de Disney en Floride ?", "Orlando"], ["Dans quel pays se trouve la ville de Duba√Ø ?", "Les √âmirats arabes unis"], ["Qui a √©crit les livres 'Harry Potter' ?", "J.K. Rowling"], ["Quel paquebot a coul√© en 1912 ?", "Le Titanic"], ["Quelle est la monnaie utilis√©e aux √âtats-Unis ?", "Le Dollar am√©ricain"], ["Quelle est la capitale du Canada ?", "Ottawa"], ["Quel acteur joue Jack Sparrow ?", "Johnny Depp"], ["Dans quel oc√©an se trouve l'√Æle de la R√©union ?", "L'oc√©an Indien"], ["Quel animal repr√©sente Lacoste ?", "Le crocodile"], ["Comment s'appelle le fondateur de Facebook ?", "Mark Zuckerberg"], ["Quelle est la capitale de l'Australie ?", "Canberra"], ["Combien y a-t-il de secondes dans une heure ?", "3600"], ["Quelle est la montagne la plus haute d'Europe ?", "Le Mont Blanc"], ["Quelle est la capitale du Japon ?", "Tokyo"], ["Qui a peint la chapelle Sixtine ?", "Michel-Ange"], ["Quel est le nom de l'agent 007 ?", "James Bond"], ["O√π peut-on voir le Christ R√©dempteur ?", "Rio de Janeiro"], ["Quel fruit est utilis√© pour faire de la moutarde ?", "Aucun"], ["Quelle est la capitale de l'Espagne ?", "Madrid"], ["Qui est le 'King of Pop' ?", "Michael Jackson"], ["Quel pays est c√©l√®bre pour ses pyramides ?", "L'√âgypte"], ["Quelle force nous fait tomber ?", "La gravit√©"], ["Quelle est la capitale de l'Italie ?", "Rome"], ["Quel est le plus grand oc√©an ?", "L'oc√©an Pacifique"], ["Quel sport utilise un 'palet' ?", "Le hockey sur glace"], ["Quel est le nom de la tour de Londres ?", "Big Ben"], ["Quelle est la capitale de l'Allemagne ?", "Berlin"], ["Qui a d√©couvert l'Am√©rique en 1492 ?", "Christophe Colomb"], ["Quel animal est le plus rapide ?", "Le gu√©pard"], ["Quelle est la capitale de la Russie ?", "Moscou"], ["Quelle est notre galaxie ?", "La Voie lact√©e"], ["Qui a √©crit 'Le Petit Prince' ?", "Antoine de Saint-Exup√©ry"], ["Quelle est la capitale du Portugal ?", "Lisbonne"], ["Quel organe pompe le sang ?", "Le c≈ìur"], ["O√π se trouve la Maison Blanche ?", "Washington D.C."], ["Quel est le plus grand d√©sert chaud ?", "Le Sahara"], ["Quelle est la capitale de la Gr√®ce ?", "Ath√®nes"], ["Quel super-h√©ros a √©t√© mordu par une araign√©e ?", "Spider-Man"], ["Quelle est la monnaie du Japon ?", "Le Yen"], ["Quel est le premier homme sur la Lune ?", "Neil Armstrong"], ["Quelle est la capitale de la Chine ?", "P√©kin"], ["Quel instrument a 88 touches ?", "Le piano"], ["Qui a peint la Joconde ?", "L√©onard de Vinci"], ["Quelle est la capitale de la Belgique ?", "Bruxelles"], ["Dans quel pays se trouve le Taj Mahal ?", "L'Inde"], ["Quel mur a √©t√© d√©truit en 1989 ?", "Le mur de Berlin"], ["Quelle est la capitale de la Suisse ?", "Berne"], ["Quel m√©tal est attir√© par un aimant ?", "Le fer"], ["Quelle est la plus grande for√™t ?", "L'Amazonie"], ["Quelle est la capitale des Pays-Bas ?", "Amsterdam"], ["Qui a cr√©√© Mickey Mouse ?", "Walt Disney"], ["Quel pays est l'Hexagone ?", "La France"], ["Quelle est la capitale de l'Irlande ?", "Dublin"], ["Quel est le chien de Tintin ?", "Milou"], ["Combien de couleurs dans l'arc-en-ciel ?", "7"], ["Quelle est la capitale de l'Argentine ?", "Buenos Aires"], ["Quelle est la plan√®te rouge ?", "Mars"], ["Qui a √©crit 'Les Mis√©rables' ?", "Victor Hugo"], ["Quelle est la capitale de la Su√®de ?", "Stockholm"], ["Quel est le plus long fleuve ?", "L'Amazone"], ["Quel est le petit de la vache ?", "Le veau"], ["Quelle est la capitale de l'√âgypte ?", "Le Caire"], ["Quel sport pratique Rafael Nadal ?", "Le tennis"], ["Quel sorcier a des lunettes ?", "Harry Potter"], ["Quelle est la capitale de la Tha√Ølande ?", "Bangkok"], ["Quel est l'animal national de l'Australie ?", "Le kangourou"], ["Quelle est la capitale du Mexique ?", "Mexico"], ["Qui a invent√© l'ampoule √©lectrique ?", "Thomas Edison"], ["Quelle est la capitale de la Cor√©e du Sud ?", "S√©oul"], ["Quelle montagne est la plus haute ?", "L'Everest"], ["Quelle est la capitale du Maroc ?", "Rabat"], ["Combien de jours dans une ann√©e ?", "365"], ["Quelle est la capitale de la Norv√®ge ?", "Oslo"], ["Quel pirate a une jambe de bois ?", "Long John Silver"], ["Quelle est la capitale de la Pologne ?", "Varsovie"], ["Qui a invent√© les JO ?", "La Gr√®ce"], ["Quelle est la capitale de l'Autriche ?", "Vienne"], ["O√π est la Statue de la Libert√© ?", "New York"], ["Quelle est la capitale du Danemark ?", "Copenhague"], ["Quelle reine est d√©c√©d√©e en 2022 ?", "Elizabeth II"], ["Quelle est la capitale de la Finlande ?", "Helsinki"], ["Quel bateau a d√©couvert l'Am√©rique ?", "La Santa Maria"], ["Quelle est la capitale de l'Islande ?", "Reykjavik"], ["Quel animal est le plus lourd ?", "La baleine bleue"], ["Quelle est la capitale de la R√©publique Tch√®que ?", "Prague"], ["Quelle √©toile est proche de nous ?", "Le Soleil"], ["Quelle est la capitale de la Hongrie ?", "Budapest"], ["Quel d√©tective vit au 221B Baker Street ?", "Sherlock Holmes"], ["Quelle est la capitale du Portugal ?", "Lisbonne"], ["Quelle couche nous prot√®ge du soleil ?", "La couche d'ozone"], ["Quelle est la capitale du Chili ?", "Santiago"], ["Qui est le h√©ros de 'Star Wars' ?", "Luke Skywalker"], ["Quelle est la capitale de la Roumanie ?", "Bucarest"], ["Quel est le plus grand oc√©an ?", "L'oc√©an Pacifique"], ["Quelle est la capitale du Vietnam ?", "Hano√Ø"], ["Qui a d√©couvert la gravit√© ?", "Isaac Newton"], ["Quelle est la capitale de la Nouvelle-Z√©lande ?", "Wellington"], ["Qui a √©crit 'Le tour du monde en 80 jours' ?", "Jules Verne"]
];


    let currentLevel = 0;
    let activeIndex = -1;
    let isAiMode = false;
    let currentAiQ = ["", ""];

    const levels = [
        { name: "D√âFIS FACILES", class: "theme-vert", btnClass: "btn-green", start: 0 },
        { name: "D√âFIS MOYENS", class: "theme-or", btnClass: "btn-gold", start: 100 },
        { name: "D√âFIS DIFFICILES", class: "theme-rouge", btnClass: "btn-red", start: 200 }
    ];

    function normalize(str) {
        if(!str) return "";
        return str.toString().toLowerCase()
            .replace(/[√©√®√™√´]/g, 'e').replace(/[√†√¢]/g, 'a').replace(/[√Æ√Ø]/g, 'i').replace(/[√¥√∂]/g, 'o').replace(/[√ª√π]/g, 'u')
            .replace(/^(le |la |les |l\'|un |une |des )/, "")
            .replace(/\s/g, "").trim();
    }

    function switchView(viewId) {
        document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active-view'));
        document.getElementById(viewId).classList.add('active-view');
        document.getElementById('nav-arrows').style.display = (viewId === 'view-questions-list') ? 'block' : 'none';
        document.querySelector('.scroll-box').scrollTop = 0;
    }

    function showSubMenu(type) {
        document.body.className = "theme-menu";
        if(type === 'questions') switchView('view-submenu-questions');
        if(type === 'avantages') switchView('view-submenu-avantages');
    }

    function backToMain() {
        document.body.className = "theme-menu";
        switchView('view-main-menu');
    }

    function goToLevel(idx) {
        currentLevel = idx;
        renderQuestionsList();
        switchView('view-questions-list');
    }

    function renderQuestionsList() {
        const listInner = document.getElementById('questions-container-inner');
        const level = levels[currentLevel];
        document.getElementById('level-title').innerText = "üìú " + level.name;
        document.body.className = level.class;
        listInner.innerHTML = "";
        
        const solved = JSON.parse(localStorage.getItem('noel_solved') || "[]");

        for (let i = 1; i <= 100; i++) {
            const qID = level.start + i - 1;
            const isDone = solved.includes(qID);
            let btn = document.createElement('button');
            btn.className = `btn-question ${level.btnClass} ${isDone ? 'completed' : ''}`;
            btn.innerText = isDone ? `D√âFI R√âUSSI` : `QUESTION ${i}`;
            btn.onclick = () => showQuestion(qID, false);
            listInner.appendChild(btn);
        }

        let btnAi = document.createElement('button');
        btnAi.className = `btn-question btn-silver`;
        btnAi.innerText = `QUESTION IA ‚ú®`;
        btnAi.onclick = () => showQuestion(-1, true);
        listInner.appendChild(btnAi);
    }

    function showQuestion(id, isAi) {
        isAiMode = isAi;
        document.getElementById('hint-text').style.visibility = "hidden";
        if (isAi) {
            document.getElementById('btn-show-id').style.display = "block";
            document.getElementById('btn-regen-id').style.display = "block";
            const pool = allData.slice(levels[currentLevel].start, levels[currentLevel].start + 100);
            currentAiQ = pool.length > 0 ? pool[Math.floor(Math.random() * pool.length)] : ["Pas de question", ""];
            document.getElementById('current-q-text').innerText = "[IA] " + currentAiQ[0];
        } else {
            document.getElementById('btn-show-id').style.display = "none";
            document.getElementById('btn-regen-id').style.display = "none";
            activeIndex = id;
            document.getElementById('current-q-text').innerText = allData[id] ? allData[id][0] : "Question vide";
        }
        document.getElementById('user-ans-input').value = "";
        document.getElementById('list-view').style.display = 'none';
        document.getElementById('question-view').style.display = 'flex';
        document.getElementById('user-ans-input').focus();
    }

    function hideQuestion() {
        document.getElementById('question-view').style.display = 'none';
        document.getElementById('list-view').style.display = 'block';
        renderQuestionsList();
    }

    function checkAnswer() {
        const userAns = normalize(document.getElementById('user-ans-input').value);
        const correctAns = normalize(isAiMode ? currentAiQ[1] : (allData[activeIndex] ? allData[activeIndex][1] : ""));
        if (userAns !== "" && userAns === correctAns) {
            alert("Bravo ! ‚ú®");
            if (!isAiMode) {
                let solved = JSON.parse(localStorage.getItem('noel_solved') || "[]");
                if (!solved.includes(activeIndex)) solved.push(activeIndex);
                localStorage.setItem('noel_solved', JSON.stringify(solved));
            }
            hideQuestion();
        } else {
            alert("Oh non ! ‚ùÑÔ∏è");
        }
    }

    function devUnlock() {
        if(confirm("R√©initialiser la progression ?")) {
            localStorage.removeItem('noel_solved');
            alert("Progression r√©initialis√©e !");
        }
    }

    function changeLevel(dir) {
        currentLevel = (currentLevel + dir + 3) % 3;
        renderQuestionsList();
    }

    function revealHint() {
        const hText = document.getElementById('hint-text');
        hText.innerText = currentAiQ[1];
        hText.style.visibility = "visible";
        setTimeout(() => { hText.style.visibility = "hidden"; }, 1000);
    }

    function regenerateAi() { showQuestion(-1, true); }

    document.getElementById('user-ans-input').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') checkAnswer();
    });
</script>
</body>
</html>